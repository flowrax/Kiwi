<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Expeditie Kiwi</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.5/dist/leaflet.css"
 integrity="sha256-sA+e2bM4s3apz2xkY7RkZ6mQ2pFzH8jLr8a8tE/6ooc=" crossorigin=""/>

<!-- Blogs data -->
<script src="data/blogs.js"></script>
<script src="data/home-werking.js"></script>

<style>
  /* Zorg dat de kaart zichtbaar is */
  #map {
    height: 500px;
    width: 100%;
    border: 1px solid #ccc;
    margin-bottom: 2rem;
  }
</style>
</head>
<body>

<nav>
  <div class="nav-inner">
    <div class="brand">
      <a href="index.html">
        <img src="img/logo.png" alt="Expeditie Kiwi Logo" class="logo">
        Expeditie Kiwi
      </a>
    </div>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li class="dropdown">
        <a href="over.html">Over â–¾</a>
        <ul class="dropdown-menu">
          <li><a href="bouw-bus.html">Bouw van de bus</a></li>
          <li><a href="strips.html">Strips</a></li>
        </ul>
      </li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="blog.html">Blog</a></li>
    </ul>
  </div>
</nav>

<section class="hero">
  <div class="shape shape1"></div>
  <div class="shape shape2"></div>
  <div class="shape shape3"></div>
  <div class="sparkle" style="top:20%; left:15%;"></div>
  <div class="sparkle" style="top:40%; left:70%;"></div>
  <div class="sparkle" style="top:60%; left:30%;"></div>
  <div class="sparkle" style="top:80%; left:50%;"></div>
  <h1>Welkom bij Expeditie Kiwi</h1>
  <p>Ontdek avonturen, blogs en verhalen vol inspiratie!</p>
  <a href="blog.html" class="btn">Bekijk Blogs</a>
</section>

<section class="counters">
  <div class="counter" id="counterBlogs">
    <span class="count">0</span>
    <span class="counter-label">Blogs</span>
  </div>
  <div class="counter" id="counterLanden">
    <span class="count">0</span>
    <span class="counter-label">Landen bezocht</span>
  </div>
</section>

<section class="blogs" id="homeBlogs">
  <!-- Dynamische blogcards worden hier door home-werking.js toegevoegd -->
</section>

<h2>Onze Route</h2>
<div id="map"></div>

<footer>
  &copy; 2025 Expeditie Kiwi
</footer>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.5/dist/leaflet.js"
 integrity="sha256-oQ2H2iZphQf7ZH5fTqkWqXaqx3lGcFuhz5F+T2HGz7M=" crossorigin=""></script>

<!-- Kaart initialisatie (VPN-proof tiles) -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    if (!window.blogs || window.blogs.length === 0) {
        console.warn('Geen blogs gevonden voor de kaart.');
        return;
    }

    // Kaart initialiseren op de eerste blog
    const map = L.map('map').setView([window.blogs[0].lat, window.blogs[0].lng], 6);

    // VPN-proof tiles (Carto Positron)
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/">CARTO</a>',
        subdomains: 'abcd',
        maxZoom: 19
    }).addTo(map);

    // Markers toevoegen voor elke blog
    window.blogs.forEach(blog => {
        L.marker([blog.lat, blog.lng])
         .addTo(map)
         .bindPopup(`<strong>${blog.title}</strong><br>${blog.description || ''}`);
    });

    // Route tekenen (lijn tussen alle locaties)
    const routeLatLngs = window.blogs.map(blog => [blog.lat, blog.lng]);
    const polyline = L.polyline(routeLatLngs, {color: 'blue', weight: 3}).addTo(map);

    // Zoom zodat alles zichtbaar is
    map.fitBounds(polyline.getBounds());
});
</script>

</body>
</html>
